# 登录接口 `/api/login/` 密码处理说明（前端）

## 结论
- 登录请求发送前，前端会对用户输入的明文密码做 **MD5 哈希**（`Md5.hashStr`）。
- 这属于 **哈希（不可逆）**，不是可逆“加密”。
- `request`（axios 封装层）不会对 `password` 再做二次处理。

## 登录时的处理流程
1. 用户在登录页输入：
   - `username`
   - `password`（明文）
   - `captcha` / `captchaKey`
2. 点击登录后，前端在发请求前将：
   - `password = Md5.hashStr(明文password)`
3. 发送请求到：
   - `POST /api/login/`
   - `data` 中的 `password` 字段是 **MD5 后的字符串**

## 相关代码位置
- **登录 API 定义**
  - `src/views/system/login/api.ts`
  - `login(params)`：`POST /api/login/`，直接把 `params` 作为 `data` 发送

- **登录页提交时对密码做 MD5**
  - `src/views/system/login/component/account.vue`
  - 引入：`import { Md5 } from 'ts-md5'`
  - 提交：`password: Md5.hashStr(state.ruleForm.password)`

- **axios/request 封装（无二次加密/签名）**
  - [src/utils/service.ts](cci:7://file:///d:/AI/law_smart/lsl-frontend/src/utils/service.ts:0:0-0:0)
  - request interceptor：仅 `config => config`
  - token 存在时仅添加 `Authorization: JWT <token>`

## 补充：改密页面同样使用 MD5
- `src/views/system/login/component/changePwd.vue`
- `password`、`password_regain` 都会先执行 `Md5.hashStr(...)` 再提交

## 对接提示（很重要）
- 如果你在**别的地方**手动调用 `/api/login/`（例如新写登录页、脚本、Postman），通常也需要按同样规则：
  - 先对密码做 `Md5.hashStr`（或等价的 MD5 处理）
  - 再把结果作为 `password` 传给后端
  否则后端可能把你传入的值当作“已 MD5 的密码”，导致校验失败。

## 安全说明（简要）
- MD5 不适合做现代密码学意义的安全方案；更合理的是：
  - 传输使用 HTTPS
  - 后端存储使用 bcrypt/argon2 等加盐哈希
- 但从当前项目“接口约定”角度：客户端就是传 MD5 后的密码字符串。
